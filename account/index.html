<!DOCTYPE html>
<!-- 4h (4.07.2014 fast fixes(new creditcard) 5h )-->
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <title>Всё Моё &mdash; Сервис управления личными финансами</title>
    <meta name="title" content="Всё Моё &mdash; Сервис управления личными финансами - VseMoe.RU">
    <meta name="description"
          content="Всё Моё &mdash; Сервис управления личными финансами и и семейным бюджетом - VseMoe.RU">
    <link rel="shortcut icon" href="favicon.ico">

    <link href="../css/fonts.css" rel="stylesheet" type="text/css">
    <link href="../css/style.css" rel="stylesheet" type="text/css">
    <link href="../css/newmain.css" rel="stylesheet" type="text/css">
    <link href="../css/login.css" rel="stylesheet" type="text/css">
    <link href="../css/personal.css" rel="stylesheet" type="text/css">
    <link href="../css/account.css" rel="stylesheet" type="text/css">
    <link href="../css/pickmeup.css" rel="stylesheet" type="text/css">
    <link href="../css/jquery.gritter.css" rel="stylesheet" type="text/css">
    <link href="../css/animate-custom.css" rel="stylesheet" type="text/css">

    <script src="../js/lib/modernizr-2.6.2.min.js"></script>
</head>
<body class="inner app">
<div class="wrap ">
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
//        (function (d, w, c) {
//            (w[c] = w[c] || []).push(function () {
//                try {
//                    w.yaCounter22607524 = new Ya.Metrika({id: 22607524,
//                        webvisor: true,
//                        clickmap: true,
//                        trackLinks: true,
//                        accurateTrackBounce: true});
//                } catch (e) {
//                }
//            });
//
//            var n = d.getElementsByTagName("script")[0],
//                    s = d.createElement("script"),
//                    f = function () {
//                        n.parentNode.insertBefore(s, n);
//                    };
//            s.type = "text/javascript";
//            s.async = true;
//            s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";
//
//            if (w.opera == "[object Opera]") {
//                d.addEventListener("DOMContentLoaded", f, false);
//            } else {
//                f();
//            }
//        })(document, window, "yandex_metrika_callbacks");
    </script>
    <noscript>
        <div><img src="//mc.yandex.ru/watch/22607524" style="position:absolute; left:-9999px;" alt=""/></div>
    </noscript>
    <!-- /Yandex.Metrika counter -->
    <header>
        <div class="logo">
            <h1><a href="/" title="Всё Мое"></a></h1>
        </div>
    </header>
    <div id="app_body" data-bind="template: pageTemplateName">
    </div>
    <div class="empty"></div>
    <!-- ko if:modalWindow -->
    <div class="hidden" data-bind="click: $root.modalClose, css:{modalHolder:$root.modalWindow, hidden:false}">
        <div class="modalWindow">
            <div class="modalMessage" data-bind="text: $root.modalWindow().text"></div>
            <div class="modalButtons">
                <input type="button" class="cancel" data-bind="click: $root.modalClose, value: $root.modalCancelLabel"/>
                <input type="button" data-bind="
                value: $root.modalWindow().buttons.okLabel,
                click:  $root.modalWindow().buttons.okFunc"/>
            </div>
        </div>
    </div>
    <!-- /ko -->
</div>
<footer class="footer">
    <div class="in">
        <div class="bottomlogo"><a href="http://studiovsemoe.com"></a></div>
        <ul class="navi">
            <li><a href="/tour.html">Экскурсия</a></li>
            <li><a href="http://media.vsemoe.ru">Новости</a></li>
            <li><a href="/payment">Тарифы</a></li>
            <li><a href="/contacts.html">Контакты</a></li>
            <li><a href="/rules.html">Правила</a></li>
        </ul>
        <ul class="socials">
            <li><a href="http://facebook.com/vsemoe.ru" target="_blank" class="fb"></a></li>
            <li><a href="https://twitter.com/vsemoe_ru" target="_blank" class="twitter"></a></li>
            <li><a href="http://vk.com/vsemoe_ru" target="_blank" class="vk"></a></li>
        </ul>
        <span class="copy">@ 2013-2014 &laquo;Всё Моё&raquo; Все права защищены</span>
    </div>
</footer>
<div id="ue-embedded-widget"></div>
<!-- jQuery library -->
<!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/lib/jquery-1.8.2.min.js"><\/script>')</script>-->
<!-- VERSION?v9 -->
<script src="../js/config/ApplicationSettings.js"></script>
<script src="../js/jquery-1.9.1.min.js?v9"></script>
<script src="../js/lib/jquery.gritter.js?v9"></script>
<script src="../js/lib/sammy-latest.min.js?v9"></script>
<script src="../js/lib/moment.min.js?v9"></script>
<script src="../js/utils/util.js?v9"></script>
<script src="../js/jquery.treemenu.js?v9"></script>
<script src="../js/jquery.pickmeup.min.js?v9"></script>
<script src="../js/lib/knockout-latest.js?v9"></script>
<script src="../js/ko.additional.js?v9"></script>
<script src="../js/utils/ServerApi.js?v9"></script>
<script src="../js/ViewModel/UserViewModel.js?v9"></script>
<script src="../js/ViewModel/AccountViewModel.js?v9"></script>
<script src="../js/ViewModel/TransactionViewModel.js?v9"></script>
<script src="../js/ViewModel/TransactionEditViewModel.js?v9"></script>
<script src="../js/ViewModel/FilterViewModel.js?v9"></script>
<script src="../js/ViewModel/ApplicationViewModel.js?v9"></script>
<!--<script src="/html_stage/js/jquery.cookie.js"></script>-->
<!--<script src="../js/lib/jquery-ui.js"></script>-->
<!--<script src="../js/lib/jquery.validate.min.js"></script>-->
<!--<script src="../js/lib/jquery.form.js"></script>-->
<!--<script src="../js/lib/easyXDM/Core.js"></script>-->
<!--<script src="../js/lib/easyXDM/Rpc.js"></script>-->
<!--<script src="../js/lib/easyXDM/easyXDM.debug.js"></script>-->
<!--<script src="../js/lib/json2.js"></script>-->
<!--<script type="text/javascript" src="../js/touchslider.js"></script>-->
<!--<script src="../js/util.js"></script>-->
<!--<script src="../js/main.js"></script>-->
<!--<script src="../js/account.js"></script>-->
<!--<script src="Scripts/jquery-ui-1.8.11.min.js" type="text/javascript"></script>-->

<script>
    var _gaq = [
        ['_setAccount', 'UA-XXXXX-X'],
        ['_trackPageview']
    ];
    (function (d, t) {
        var g = d.createElement(t), s = d.getElementsByTagName(t)[0];
        g.src = ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g, s)
    }(document, 'script'));

    var calendarMonthNamesLoc = ["Января", "Февраля", "Марта",
        "Апреля", "Мая", "Июня",
        "Июля", "Августа", "Сентября",
        "Октября", "Ноября", "Декабря"];
    var calendarMonthNamesLoc = ["Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек"];
    var date = new Date();
    var time = date.getDate() + ' ' + calendarMonthNamesLoc[date.getMonth()].toUpperCase();
    //var time = date.getDate() + ' ' + calendarMonthNamesLoc[date.getMonth()] + ' ' + date.getFullYear();
    $(".noticeDate").html(time);
    //window.setTimeout(arguments.callee, 1000);

    $(function () {
        if (ServerApi.options.dev || true) {
            $__app = new ApplicationViewModel();
            ko.applyBindings($__app);
        } else {
            ko.applyBindings(new ApplicationViewModel());
        }

        $(".autocompleteFix").each(function () {
            $(this).trigger('change');
        });
    });
</script>

<script type="text/html" id="login-page-tpl">
    <!------------loginDiv------------>
    <div id="loginDiv" class="content">
        <div class="menu-login-authorized">
            <nav class="user-pages-nav">
                <ul class="fr">
                    <li><a href="/feedback">Поддержка</a></li>
                </ul>
            </nav>
        </div>
        <div class="hole"></div>
        <div class="cup"></div>
        <div class="form" id="formtab">
            <ul class="hidden">
                <li><a href="#login"></a></li>
                <li><a href="#register"></a></li>
                <li><a href="#restore"></a></li>
                <li><a href="#congratulations"></a></li>
                <li><a href="#changepass"></a></li>
            </ul>
            <!--&lt;!&ndash;Вход в личный кабинет&ndash;&gt;-->
            <!--<div id="login"></div>-->
            <!--&lt;!&ndash;Регистрация&ndash;&gt;-->
            <!--<div id="register" class="hidden"></div>-->
            <!--&lt;!&ndash;Восстановление пароля&ndash;&gt;-->
            <!--<div id="restore" class="hidden"></div>-->
            <!--<div id="congratulations" class="hidden"></div>-->
            <!--&lt;!&ndash;Меняем пароль&ndash;&gt;-->
            <!--<div id="changepass" class="hidden"></div>-->
            <div data-bind="template: pageContentTemplateName"></div>
        </div>
        <div class="slash"></div>
    </div>
</script>

<script type="text/html" id="login-tpl">
    <h1>Вход в личный кабинет</h1>

    <div class="login">
        <div class="form_item">
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.loginError()}"/>
            <input autofocus="true" type="email" tabindex="1" class="login autocompleteFix" name="user"
                   placeholder="Электронная Почта"
                   data-bind="event:{focusout:user.loginValidate()},value: user.login,valueUpdate:'input',css:{error:user.loginError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.login().length == 0},click:function(){$root.user.login('')}"></div>
        </div>
        <div class="form_item">
            <a href="#restore" class="forgot hiddenToggle" title="Напомнить или изменить пароль"
               data-bind="css:{hiddenImp:user.password() != ''}">?</a>
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.passwordError()}"/>
            <input type="password" tabindex="2" name="password" placeholder="Пароль" class="autocompleteFix"
                   data-bind="value: user.password,valueUpdate:'input',css:{error:user.passwordError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.password().length == 0},click:function(){$root.user.password('')}"></div>
        </div>

        <div class="allErrors" data-bind="css:{hidden:!user.hasErrors()}">
            <p class="error" data-bind="text:user.errorText"></p>
        </div>
        <div class="errortext hidden error">
            <p class="error">"Логин и пароль не соответствуют друг другу"</p>
        </div>
        <div class="form_item remember">
            <input type="checkbox" id="remember" data-bind="checked: user.remember"/>
            <label for="remember">Запомнить меня</label>
        </div>
        <div class="form_but">
            <input type="button" value="Войти" data-bind="click: userLogin"/>
        </div>
    </div>
    <a href="#register" class="form_link">Зарегистрироваться на Всё Моё?</a>
</script>

<script type="text/html" id="register-tpl">
    <h1>Регистрация</h1>

    <div class="register">
        <div class="form_item">
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.emailError()}"/>
            <input autofocus="true" type="email" tabindex="1" class="login" name="user" placeholder="Электронная Почта"
                   data-bind="event:{focusout:user.loginValidate()},value: user.email,valueUpdate:'input',css:{error:user.emailError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.email().length == 0},click:function(){$root.user.email('')}"></div>
        </div>
        <div class="form_item">
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.passwordError()}"/>
            <input type="password" tabindex="2" name="password" placeholder="Пароль"
                   data-bind="value: user.password,valueUpdate:'input',css:{error:user.passwordError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.password().length == 0},click:function(){$root.user.password('')}"></div>
        </div>

        <div class="allErrors" data-bind="css:{hidden:!user.hasErrors()}">
            <p class="error" data-bind="text:user.errorText"></p>
        </div>
        <!-- <div class="form_item ">
                <img src="images/alert.png" class="hidden error" alt="Ошибка" title="Ошибка" />
                <input type="password" name="repassword" placeholder="Потвердите Пароль" />
                <input type="reset" value="" title="Очистить" class="hiddenImp hiddenToggle" />
                <div class="allErrors"></div>
                <div class="errortext hidden error">
                    <p>Пользователь с таким логином уже существует</p>
                </div>
            </div>-->
        <div class="form_item remember">
            <input type="checkbox" id="remember" data-bind="checked: user.remember"/>
            <label for="remember">Запомнить меня</label>
        </div>
        <div class="form_but">
            <input type="button" data-bind="click:userRegister" value="Регистрироваться"/>
        </div>
    </div>
    <a href="#login" class="form_link">Уже зарегистрированы?</a>
</script>

<script type="text/html" id="restore-tpl">
    <h1>Восстановление пароля</h1>

    <div class="restore">
        <div class="form_item">
            <p>Для восстановления пароля укажите адрес электронной почты</p>
        </div>
        <div class="form_item">
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.loginError()}"/>
            <input autofocus="true" type="email" tabindex="1" class="login" name="user" placeholder="Электронная Почта"
                   data-bind="event:{focusout:user.loginValidate()},value: user.email,valueUpdate:'input',css:{error:user.emailError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.email().length == 0},click:function(){$root.user.email('')}"></div>
        </div>
        <div class="allErrors" data-bind="css:{hidden:!user.hasErrors()}">
            <p class="error" data-bind="text:user.errorText"></p>
        </div>
        <div class="form_but decor">
            <input type="button" data-bind="click:userRestore" value="Восстановить"/>
        </div>
    </div>
    <a href="#register" class="form_link">Зарегистрироваться на Всё Моё?</a>
</script>

<script type="text/html" id="changepass-tpl">
    <h1>Меняем пароль</h1>
    <div class="changepass">
        <div class="form_item">
            <p>Для вашего аккаунта:
                <span name="user" class="email" data-bind="text:user.login"></span>
            </p>
        </div>

        <!--<div class="form_item">-->
        <!--<img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"-->
        <!--data-bind="css:{hidden:!user.passwordError()}"/>-->
        <!--<input type="password" tabindex="2" name="password" placeholder="Пароль"-->
        <!--data-bind="value: user.password,valueUpdate:'input',css:{error:user.passwordError()}"/>-->

        <!--<div class="resetBox"-->
        <!--data-bind="css:{hiddenImp:user.password().length == 0},click:function(){$root.user.password('')}"></div>-->
        <!--</div>-->

        <div class="form_item">
            <a href="#restore" class="forgot hiddenToggle" title="Напомнить или изменить пароль"
               data-bind="css:{hiddenImp:user.repassword() != ''}">?</a>
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.passwordError()}"/>
            <!-- ko if: user.showPassword() -->
            <input type="text" tabindex="1" name="password" placeholder="Пароль"
                   data-bind="value: user.repassword,valueUpdate:'input',css:{error:user.passwordError()}"/>
            <!-- /ko -->
            <!-- ko ifnot: user.showPassword() -->
            <input type="password" tabindex="1" name="password" placeholder="Пароль"
                   data-bind="value: user.repassword,valueUpdate:'input',css:{error:user.passwordError()}"/>
            <!-- /ko -->
            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.repassword().length == 0},click:function(){$root.user.repassword('')}"></div>
        </div>

        <div class="form_item remember">
            <input type="checkbox" id="remember" data-bind="checked: user.showPassword"/>
            <label for="remember">Показать пароль</label>
        </div>

        <!--<div class="allErrors" data-bind="css:{hidden:!user.hasErrors()}">-->
        <!--<p class="error" data-bind="html:user.errorText"></p>-->
        <!--</div>-->

        <div class="form_but">
            <input type="button" data-bind="click:userChangepass" value="Cменить"/>
        </div>
    </div>
</script>

<script type="text/html" id="congratulations-tpl">
    <div class="form_item" style="height: 200px;">
        <p>Пожалуйста, перейдите в указанный вами почтовый ящик для продолжения восстановления
            пароля.</p>
    </div>
    <a href="#register" class="form_link">Зарегистрироваться на Всё Моё?</a>
</script>

<script type="text/html" id="confirm-tpl">
    <div class="form_item" style="height: 200px;">
        <!-- ko ifnot: $root.user.token() -->
        <p>Пожалуйста, перейдите в указанный вами почтовый ящик для продолжения регистрации.</p>
        <!-- /ko -->
        <!-- ko if: $root.user.token() -->
        <p>E-mail <span class="email" data-bind="text:$root.user.login"></span> подтвержден.
            <br>
            <br>
            <input style="width: auto" type='button' class="button" onclick="location.hash='observe'"
                   value="Начать работу"/></p>
        <!-- /ko -->
    </div>
    <a href="#register" class="form_link">Зарегистрироваться на Всё Моё?</a>
</script>

<script type="text/html" id="observe-tpl">
    <table class="contentTable">
        <tr>
            <td class="tdleftMenu">
                <!--------leftMenu-------->
                <div class="leftMenu">
                    <div class="totalBox">
                        <span class="largeText">ОСТАТОК</span>
                        <span class="largeValue" data-bind="digitext:totalGain()-totalConsumption()"></span>
                        <span class="largeComment">ДОХОДА</span>
                    </div>
                    <div class="totalPercent">
                        <span class="percentValue"></span>

                        <div class="trend"></div>
                    </div>
                    <div class="bottomBox">
                        <div class="greenBox">
                            <span class="bottomText">ДОХОДЫ</span>
                        </div>
                        <span class="greenResult" data-bind="digitext:totalGain"></span>
                    </div>
                    <div class="bottomBox">
                        <div class="orangeBox">
                            <span class="bottomText">РАСХОДЫ</span>
                        </div>
                        <span class="orangeResult" data-bind="digitext:totalConsumption"></span>
                    </div>
                    <div class="emptyBox">
                        <span class="categoryText">Доходы</span>
                    </div>
                    <div data-bind="template:{name:'click-box-tpl',foreach:getGainAcc()}"></div>
                    <div class="emptyBox">
                        <span class="categoryText">Расходы</span>
                    </div>
                    <div data-bind="template:{name:'click-box-tpl',foreach:getConsumptionAcc()}"></div>
                </div>
            </td>
            <!--------rightMenu-------->
            <td class="tdrightMenu">
                <div class="rightMenu">
                    <div class="rightTop">
                        <div class="rightTopText">БАЛАНС</div>
                    </div>
                    <div class="titleText" data-bind="text:$root.header"></div>
                    <!----favorites---->
                    <div class="notice">
                        <div class="noticeTitle">ИТОГО</div>
                        <div class="noticeText">КАПИТАЛ = МОИ СРЕДСТВА - ДОЛГИ</div>
                        <div class="noticeValue" data-bind="digitext:totalActive()-totalPassive()"></div>
                                    <span class="noticePercent">
                                        <span class="percentValue"></span>
                                        <div class="trend"></div>
                                    </span>

                        <div class="noticeSymbol">На <span data-bind="text:todayShorUpper"></span></div>
                        <div class="noticeDate"></div>
                    </div>
                    <!----activeBox---->
                    <div g="1" class="activeBox fl">
                        <div class="activeTop">
                            <span class="greenSymbol HelveticaNeueBold" data-bind="currency:baseCurrencyId">Pуб</span>
                            <span class="activeText" data-bind="digitext:totalActive"></span>
                        </div>
                        <div class="titleBox">
                            <span class="generalText">МОИ СРЕДСТВА / (АКТИВЫ)</span>
                            <span class="generalValue">В</span>
                            <span class="generalValue">СУММА</span>
                        </div>
                        <!-- ko foreach: getActiveAcc()-->
                        <div class="walletBox">
                            <div data-bind="click:function(){$data.expand(!$data.expand())}, css:{'has_children':children().length}">
                                <div data-bind="css:{
                                  iconSmallDown: !expand() && children().length,
                                  iconSmallLeft: expand() && children().length
                                }" class="largeclickIcon iconSmallLeft">
                                </div>
                                <span class="normalText" data-bind="shorttext:description"></span>
                                <span class="greenSymbol" data-bind="currency:currency"></span>
                                <span class="greenValue" data-bind="digitext:sum"></span>
                            </div>
                            <div class="ul_greenValue" data-bind="if: children().length, css:{hidden:expand()==0}">
                                <ul data-bind="foreach:children">
                                    <li>
                                        <div class="largeclickIcon "></div>
                                        <span style="padding-left: 10px;" class="normalText"
                                              data-bind="shorttext:description"></span>
                                        <span class="greenSymbol" data-bind="currency:currency"></span>
                                        <span class="greenValue" data-bind="digitext:sum"></span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                    <!----passiveBox---->
                    <div g="2" class="passiveBox fr">
                        <div class="passiveTop">
                            <span class="orangeSymbol HelveticaNeueBold" data-bind="currency:baseCurrencyId">Pуб</span>
                            <span class="passiveText" data-bind="digitext:totalPassive"></span>
                        </div>
                        <div class="titleBox">
                            <span class="generalText">ДОЛГИ / (ПАССИВЫ)</span>
                            <span class="generalValue">В</span>
                            <span class="generalValue">СУММА</span>
                        </div>
                        <!-- ko foreach: getPassiveAcc()-->
                        <div class="walletBox">
                            <div data-bind="click:function(){$data.expand(!$data.expand())}, css:{'has_children':children().length}">
                                <div data-bind="css:{
                                  iconSmallDown: !expand() && children().length,
                                  iconSmallLeft: expand() && children().length
                                }" class="largeclickIcon iconSmallLeft">
                                </div>
                                <span class="normalText" data-bind="shorttext:description"></span>
                                <span class="orangeSymbol" data-bind="currency:currency"></span>
                                <span class="orangeValue" data-bind="digitext:sum"></span>
                            </div>
                            <div class="ul_greenValue" data-bind="if: children().length, css:{hidden:expand()==0}">
                                <ul data-bind="foreach:children">
                                    <li>
                                        <div class="largeclickIcon "></div>
                                        <span class="normalText" data-bind="shorttext:description"></span>
                                        <span class="orangeSymbol" data-bind="currency:currency"></span>
                                        <span class="orangeValue" data-bind="digitext:sum"></span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </td>
        </tr>
    </table>
</script>

<script type="text/html" id="insert-tpl">
    <table class="contentTable">
        <tr>
            <td class="tdleftMenu" data-bind="template:'left-menu-insert-new-tpl'"></td>
            <!--------rightMenu-------->
            <td class="tdrightMenu">
                <div class="rightMenu">
                    <div class="inputText floatHeader" data-bind="text:$root.header, css:{moveBottom:tableFiltersCheckedLen() > 7}"></div>
                    <div class="tableFilters">
                        <div class="filterItem" data-bind="foreach:tableFilters">
                            <!-- ko if : selected -->
                            <div class="rangePicker" data-bind="text:short,
                            click: selectRange,
                            css : { 'checked' : $data == $root.selectedFilter()}"></div>
                            <!-- /ko -->
                        </div>
                        <div class="filterItem filterItemConfig_holder">
                            <div class="filterItemConfig"
                                 data-bind="click:function(){$root.showFilterConfig(!$root.showFilterConfig())}"></div>
                            <div class="itemDropDown animated"
                                 data-bind="css:{'hidden':!showFilterConfig(),'fadeInDown':showFilterConfig()}">
                                <div class="dropDownTitle" data-bind="click:function(){$root.showFilterConfig(false);}">
                                    Периоды
                                </div>
                                <div data-bind="foreach:tableFilters">
                                    <div data-bind="visible: !hidden"><span class="fakecheckbox" data-bind="text:label,
                                    css:{checked:selected},
                                    click:toggleSelected"></span></div>
                                </div>
                            </div>
                        </div>
                        <div class="filterItem">
                            <div class="dateInput dateFrom"
                                 data-bind="datepick:{value:timeFilterFrom,format:'DD MMM YY'}"></div>
                            -
                            <div class="dateInput dateTo"
                                 data-bind="datepick:{value:timeFilterTo,format:'DD MMM YY'}"></div>
                        </div>
                    </div>
                    <div class="clear"></div>
                    <div class="in_out_summ">
                        <div class="in_total in_out_summ_holder">
                            <div class="vse_title">сумма доходов</div>
                            <div>
                                <span data-bind="digitext:transactionsSetInTotal">0</span>
                                <span class="currency" data-bind="currncy:$root.baseCurrencyId">RUB</span>
                            </div>
                        </div>
                        <div class="out_total in_out_summ_holder">
                            <div class="vse_title">сумма расходов</div>
                            <div>
                                <span data-bind="digitext:transactionsSetOutTotal">0</span>
                                <span class="currency" data-bind="currncy:$root.baseCurrencyId">RUB</span>
                            </div>
                        </div>
                        <div class="clear"></div>
                    </div>
                    <div class="fake_tableBox">
                        <div class="t_row t_thead">
                            <div class="t_td td_1">
                                <div class="check"></div>
                            </div>
                            <div class='t_td a_left td_2'>ДАТА
                            </div>
                            <div class='t_td a_left td_3'>СЧЕТ
                            </div>
                            <div class='t_td a_left td_4'>КАТЕГОРИЯ
                            </div>
                            <div class='t_td a_left td_5'>ВАЛЮТА
                            </div>
                            <div class='t_td a_right td_6'>СУММА
                            </div>
                            <div class='t_td a_left td_7'>КОММЕНТАРИЙ</div>
                        </div>
                        <div class="t_row color_grey" data-bind="css:{hidden:transactionEdit().editMode()}">
                            <div class="t_td td_1">
                            </div>
                            <div class='t_td a_left td_2'>00.00.00
                            </div>
                            <div class='t_td a_left td_3'>Средства
                            </div>
                            <div class='t_td a_left td_4'>Откуда/Куда
                            </div>
                            <div class='t_td a_right td_5_6'>0.00
                            </div>
                            <div class='t_td a_left td_7'>Где или Что Сделано?</div>
                        </div>
                        <div class="t_row_edit"
                             data-bind="css:{hidden:!transactionEdit().editMode()}, template{name:'tr-row-edit-tpl',data: transactionEdit()}">
                        </div>
                        <!-- ko if: transactions -->
                        <div data-bind="foreach:transactionsSet">
                            <!-- ko ifnot: editInstance() -->
                            <!-- ko ifnot: deleted -->
                            <div class="t_row" data-bind="css:{empty:!created, tr_newday:newday == 1, tr_show_splits:_showSplits},
                                    attr:{id:'tr__'+ $data.id},
                                    template{name: 'tr-row-tpl',data: $data}">
                            </div>
                            <!-- /ko -->
                            <!-- ko if: deleted -->
                            <div class="t_row deleted_row">
                                <span data-bind="click:restoreRecord">Восстановить</span>
                            </div>
                            <!-- /ko -->
                            <!-- /ko -->
                            <!-- ko if: editInstance() -->
                            <div class="t_row_edit" data-bind="css:{tr_newday:newday == 1, t_row: !editInstance(), t_edit_row: editInstance()},
                            template{name: 'tr-row-edit-tpl',data: editInstance()}">
                            </div>
                            <!-- /ko -->

                        </div>
                        <!-- /ko -->
                    </div>
                </div>
                <div class="horisontal_line"></div>
                <!---paging-->
                <div class="pagingBox" id="transPaging" style="cursor: pointer;"
                     data-bind="if:$root.totalPagesArr().length > 1">
                    <div class="paging imgfirst" data-bind="click:function(){$root.currentPage(1)}"></div>
                    <div class="paging imgprev"
                         data-bind="click:function(){$root.currentPage($root.currentPage()-1)}"></div>
                    <!-- ko foreach: $root.totalPagesArr -->
                    <div class="paging imgcolor" data-bind="
                        text:$data,
                        click:function(){$root.currentPage($data)},
                        css:{
                        'bold imgnone':$data == $root.currentPage(),
                        imgcolor: $data != $root.currentPage()
                        }"></div>
                    <!-- /ko -->
                    <!-- ko if: $root.totalPages() > 5 -->
                    <div class="additional_pagin_box">
                        <input type="text" class="selectPage pag" data-bind="value:currentPage"/>

                        <div class="pagingtext pag">of</div>
                        <div class="pagingcount pag" data-bind="text:totalPages"></div>
                        <div class="pagingsubmit pag"></div>
                    </div>
                    <!-- /ko -->

                    <!-- ko if: $root.totalPages() <6 -->
                    <div class="paging imgnext"
                         data-bind="click:function(){$root.currentPage($root.currentPage()+1)}"></div>
                    <!-- /ko -->

                    <div class="paging imglast"
                         data-bind="click:function(){$root.currentPage($root.totalPages())}"></div>
                </div>

            </td>
        </tr>
    </table>
</script>

<script type="text/html" id="tr-row-tpl">
    <div class="t_td td_1">
    </div>
    <div class='t_td a_left td_2' data-bind="textdate:created">
    </div>
    <div class='t_td a_left td_3'>
        <span data-bind="accountname:from_id"></span>
        <span>&nbsp;</span>
        <span data-bind="if:cssClass =='transport_tr'">&rarr;</span>
    </div>
    <div class='t_td a_left td_4' data-bind="accountname:to_id">
    </div>
    <div class='t_td a_right td_5_6'>
                                    <span class="tr_currency" data-bind="if:currency != $root.baseCurrencyId()">
                                        <span data-bind="currency:currency"></span>
                                    </span>
        <span data-bind="absdigitext:amount, css:cssClass"></span>
    </div>
    <div class='t_td a_left td_7'>
        <span class="tr_comment" data-bind="text:comment, attr:{title:comment}">
        </span><div class="tr_controls" data-bind="if:created">
            <span data-bind="css:{split:hasSplit}, click:showSplits"></span>
            <!-- ko ifnot: hasSplit() || !!split -->
            <i data-bind="click:editRecord" class="icon edit"></i>
            <i data-bind="click:removeRecord" class="icon del"></i>
            <!-- /ko -->
        </div>
    </div>
    <!-- ko if:_showSplits() -->
    <div class="transactions_splits" data-bind="foreach:splitTransactions">
        <div class="t_row" data-bind="template:{name:'tr-row-tpl',data:$data}"></div>
    </div>
    <!-- /ko -->
</script>

<script type="text/html" id="tr-row-edit-tpl">
    <div class="row_edit_form">
        <div class="td_date_input">
            <div class="dateInput" data-bind="datepick:{value:created,format:'DD.MM.YY',time:true}"></div>
        </div><div class="td_fromaccount_input">
            <input type="hidden" data-bind="select:{
                                        options:fromAcc,
                                        optionText:'description',
                                        optionValue: 'id',
                                        value:from_id,
                                        css:{width: '132px',top: '28px',left:'0px'}
                                        }">
        </div><div class="td_toaccount_input split_input">
            <div class="acc_category acc_button">
                <i data-bind="css:action().icon"></i>
                <input type="hidden" data-bind="select:{
                                        options:actions,
                                        optionText:'description',
                                        value:action,
                                        icon:'icon',
                                        css:{width: 'auto',top: '28px',left:'0px'}
                                        }">
            </div><div class="acc_select">
                <input type="hidden" data-bind="treeSelect:{
                                            options:toAcc,
                                            optionText:'description',
                                            optionValue: 'id',
                                            optionTree: 'children',
                                            value:to_id,
                                            css:{width: 'auto', 'min-width':'123px',top: '28px',left:'0px'}
                                         }">
            </div>
        </div><div class="acc_ammount split_input">
            <div class="acc_currency acc_button">
                <!--<span data-bind="currency:currency"></span>-->
                <input type="hidden" data-bind="select:{
                                        options:$root.user.usersCurrency,
                                        optionText:'shortname',
                                        optionValue:'currency_id',
                                        value:currency,
                                        css:{width: 'auto',top: '28px',left:'0px'}
                                        }">
            </div><input type="text" data-bind="value:amount, hasfocus:amounFocus, event:{keydown:validateKeyDown}"/>
        </div><div class="acc_controls">
            <div class="acc_button" data-bind="
                                    click:function(){$data.commentEdit(!$data.commentEdit())},
                                    css:{pushed:commentEdit}">
                <i class="comment_i"></i>
            </div><div class="acc_button" data-bind="
                                    click:function(){$data.splitEdit(!$data.splitEdit())},
                                    css:{pushed:splitEdit}">
                <i class="split_i"></i>
            </div><div class="acc_button">
                <span data-bind="click:save">OK</span>
            </div><div class="acc_close_button" data-bind="if: id">
                <i class="close_i" data-bind="click:cancel"></i>
            </div>
        </div>
    </div>
    <div class="row_edit_form_additional" data-bind="template:getTpl"></div>
</script>

<script type="text/html" id="categories-settings-tpl">
    <div class="inputText floatHeader" data-bind="text:$root.header"></div>
    <div class="clear"></div>
    <div class="vse-tabs" data-bind="tabs:{options:{
                        callback:{
                            'tabs-1': function(){
                                 this.accountsViewListParent(0);
                                 this.accountsViewListGroup(0);
                                 this.accountsViewListType('OUT');
                            },
                            'tabs-2': function(){
                                 this.accountsViewListParent(0);
                                 this.accountsViewListGroup(0);
                                 this.accountsViewListType('IN');
                            },
                        }
                    }}">
        <ul>
            <li><a href="#tabs-1">
                <span class="vseOrange">&ndash;</span>
                <span>Расход</span>
            </a></li>
            <li><a href="#tabs-2">
                <span class="vseGreen">+</span>
                <span>Доход</span>
            </a></li>
        </ul>
        <div id="tabs-1">
            <div class="flexlisttitle" data-bind="template:'flexlist-title'"></div>
            <div class="flexlist"
                 data-bind="template:{name:'catlist-box-tpl',foreach:accountsViewList}"></div>
        </div>
        <div id="tabs-2">
            <div class="flexlisttitle" data-bind="template:'flexlist-title'"></div>
            <div class="flexlist"
                 data-bind="template:{name:'catlist-box-tpl',foreach:accountsViewList}"></div>
        </div>
    </div>
</script>
<script type="text/html" id="personal-settings-tpl">
    <div class="inputText floatHeader" >Мой профиль...</div>
    <div class="clear"></div>
    <div class="vse-tabs" data-bind="tabs:{options:{}}">
        <ul>
            <li><a href="#tabs-1">
                <span><i class="icon main"></i></span>
                <span>Аккаунт</span>
            </a></li>
        </ul>
        <div id="tabs-1">
            <div class="flexlisttitle" ></div>
            <div class="flexlist">
                <div class="personal-info" data-bind="css:{hidden:user.editMode()}">
                    <h1>Почта и пароль</h1>
                    <div class="row">
                        <div class="first"><i class="icon user-email"></i></div>
                        <div class="second">Email</div>
                        <div class="third"><span data-bind="text: user.login"></span></div>
                        <div class="controls"></div>
                    </div>
                    <div class="row">
                        <div class="first"><i class="icon user-pass"></i></div>
                        <div class="second">Пароль</div>
                        <div class="third"><span data-bind="text: user.maskedpass"></span></div>
                        <div class="controls"><i data-bind="click:user.switchMode" class="icon edit"></i></div>
                    </div>

                </div>
                <div class="personal-info hidden" data-bind="css:{'hidden': !user.editMode()}">
                    <h1>Почта и пароль</h1>
                    <div class="acc_edit_holder">
                        <div class="acc_edit_close"><i data-bind="click:function(){ user.editMode(false);}" class="icon del"></i>
                        </div>
                        <div class="acc_edit_row form_row">
                            <div class="form_row_label">
                                <label>Email</label>
                            </div>
                            <div class="form_row_input">
                                <input type="text" disabled data-bind="value:user.login">
                            </div>
                        </div>
                        <div class="acc_edit_row form_row">
                            <div class="form_row_label">
                                <label>Пароль</label>
                            </div>
                            <div class="form_row_input">
                                <input type="password" data-bind="value:user.password" autofocus>
                            </div>
                            <div class="form_row_input" style="width: 50px">
                                <input type="button" data-bind="click:user.savePassword" value="Сохранить" class="button">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/html" id="import-settings-tpl">
    <div class="inputText floatHeader" >Ввод или вывод информации...</div>
    <div class="clear"></div>
    <div class="vse-tabs" data-bind="tabs:{options:{}}">
        <ul>
            <li><a href="#tabs-1">
                <span ><i class="icon import_i"></i></span>
                <span>Ввод</span>
            </a></li>
            <li><a href="#tabs-2">
                <span ><i class="icon export_i"></i></span>
                <span>Вывод</span>
            </a></li>
        </ul>
        <div id="tabs-1">
            <div class="flexlisttitle" ></div>
            <div class="flexlist">
                <h2 style="padding-top: 30px">В данный момент функционал находится в разработке. И будет доступен в ближайшее время</h2>
            </div>
        </div>
        <div id="tabs-2">
            <div class="flexlisttitle" ></div>
            <div class="flexlist">
                <h2 style="padding-top: 30px">В данный момент функционал находится в разработке. И будет доступен в ближайшее время</h2>
            </div>
        </div>
    </div>
</script>
<script type="text/html" id="currency-settings-tpl">
    <div class="inputText floatHeader" >Управление списком валют...</div>
    <div class="clear"></div>
    <div class="vse-tabs" data-bind="tabs:{options:{}}">
        <ul>
            <li><a href="#tabs-1">
                <span ><i class="icon currency_i"></i></span>
                <span>Валюта</span>
            </a></li>
        </ul>
        <div id="tabs-1">
            <div class="flexlisttitle" ></div>
            <div class="currency_list">
                <div class="floatcont">
                    <h2>Денежные еденицы приложения</h2>
                    <ul data-bind="foreach:user.usersCurrency">
                        <li>
                           <span class="currency_name" data-bind="text:description"></span>
                           <span class="currency_abbr" data-bind="text:shortname"></span>
                           <span class="controls" data-bind="click:$root.user.removeCurrency">-</span>
                        </li>
                    </ul>
                </div>
                <div class="floatcont">
                    <h2>Все денежные еденицы</h2>
                    <ul data-bind="foreach:$root.currencyArr">
                        <li >
                            <span class="currency_name" data-bind="text:description"></span>
                            <span class="currency_abbr" data-bind="text:shortname"></span>
                            <span class="controls" data-bind="click:$root.user.addCurrency">+</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="clear"></div>
        </div>
    </div>
</script>
<script type="text/html" id="settings-tpl">
    <table class="contentTable">
        <tr >
            <td class="tdleftMenu settings" data-bind="">
                <ul>
                    <li data-bind="click:function(){$root.settingsPageLayout('categories')},css:{selected:$root.settingsPageLayout()=='categories'}">Категории</li>
                    <li data-bind="click:function(){$root.settingsPageLayout('personal')},css:{selected:$root.settingsPageLayout()=='personal'}">Моий профиль</li>
                    <li data-bind="click:function(){$root.settingsPageLayout('import')},css:{selected:$root.settingsPageLayout()=='import'}">Импорт/Экспорт</li>
                    <li data-bind="click:function(){$root.settingsPageLayout('currency')},css:{selected:$root.settingsPageLayout()=='currency'}">Валюта</li>
                </ul>
            </td>
            <!--------rightMenu-------->
            <td class="tdrightMenu settings " data-bind="css:settingsPageLayout">
                <div class="rightMenu" data-bind="template:settingsPageLayout()+'-settings-tpl'">

                </div>

            </td>
        </tr>
    </table>
</script>

<script type="text/html" id="accmanage-tpl">
    <table class="contentTable">
        <tr>
            <td class="tdleftMenu" data-bind="template:'left-menu-insert-tpl'"></td>
            <!--------rightMenu-------->
            <td class="tdrightMenu accmanage">
                <div class="rightMenu" data-bind="template:pageEditItemTemplateName"></div>
            </td>
        </tr>
    </table>
</script>

<script type="text/html" id="default-accmanage-tpl">
    <div class="inputText floatHeader" data-bind="text:$root.header"></div>
    <div class="clear"></div>
    <div class="accounts_main" data-bind="foreach:$root.accountBlocks">
        <div class="accounts_block" data-bind="css:addClass">
            <div class="accounts_block_header" data-bind="text:title"></div>
            <div data-bind="foreach:items">
                <div class="accounts_block_item">
                    <i data-bind="css:$root.accountIconsHash[$data.category],click:$root.editAcc"></i>

                    <div data-bind="text:title"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="clear"></div>
    <p class="help_text">
        Ваши счета находятся в панели слева, для того чтобы отредактировать счет, выберите его.
    </p>
</script>

<script type="text/html" id="edit-accmanage-tpl">
    <!-- ko with:$root.accountInEdit -->
    <div class="inputText floatHeader">
        <span style="display: table-cell" data-bind="text: id ? 'Редактирование' : 'Создание'"></span>
        <span style="font-size: 11px;line-height:18px;vertical-align: bottom;display: table-cell;padding-left: 6px">&gt;&nbsp;<span
                data-bind="text: description"></span></span>
    </div>
    <div class="clear"></div>
    <div class="account_edit_form">
        <div class="buttons_bar">
            <input class="vse-cancel button small" type="button" value="Отмена" data-bind="gotoaction:'accmanage'"/>
            <input class="button small" type="button"
                   data-bind="click:$root.saveAccount, attr:{value:$data.id?'Сохранить':'Добавить'}"/>
        </div>
        <div class="form_row">
            <div class="form_row_label" style="vertical-align: top">
                <div class="big">
                    <i data-bind="css:icon"></i>
                </div>
            </div>
            <div class="form_row_input">
                <label class="block">Название</label>
                <input type="text" data-bind="value:description"/>

                <div data-bind="if:helpText">
                    <div class="help_text" data-bind="text:helpText"></div>
                </div>
            </div>
        </div>

        <!-- ko ifnot:comment() == 'creditcard' -->
        <div class="form_row">
            <div class="form_row_label">
                <label>Cумма</label>
            </div>
            <div class="form_row_input split_input">
                <input type="text" data-bind="value:sum"/><input type="hidden" data-bind="select:{
                options: $root.user.usersCurrency,
                optionText: 'shortname',
                optionValue:'currency_id',
                value:currency}">
            </div>
        </div>
        <!-- /ko -->

        <!-- ko if:comment() == 'creditcard' -->
        <div class="form_row">
            <div class="form_row_label">
                <label>Установленный<br> банком лимит</label>
            </div>
            <div class="form_row_input split_input">
                <input type="text" data-bind="value:creditlimit"/><input type="hidden" data-bind="select:{
                options: $root.user.usersCurrency,
                optionText: 'shortname',
                optionValue:'currency_id',
                value:currency}">
            </div>
        </div>
        <div class="form_row">
            <div class="form_row_label">
                <label>Доступно <br> <span style="font-size: 10px; color: #aaa ">(по кредитной карте)</span></label>
            </div>
            <div class="form_row_input">
                <input type="text" data-bind="value:availableSum"/>
            </div>
        </div>
        <!--<div class="form_row">-->
            <!--<div class="form_row_label">-->
                <!--<label>Личные<br> средства</label>-->
            <!--</div>-->
            <!--<div class="form_row_input">-->
                <!--<input type="text" data-bind=""/>-->
            <!--</div>-->
        <!--</div>-->
        <!-- /ko -->

        <!-- ko if:comment() == 'frienddeposit' -->
        <div class="form_row">
            <div class="form_row_label">
                <label>Взять из</label>
            </div>
            <div class="form_row_input">
                <input type="hidden" data-bind="select:{
                                        options:$root.getActiveAcc,
                                        optionText:'description',
                                        value:createFromAcc
                                        }">
            </div>
        </div>
        <!-- /ko -->
        <div class="form_row big_margin">
            <div class="form_row_label">
                <label>Тип</label>
            </div>
            <div class="form_row_input">
                <input type="hidden" data-bind="select:{
                options: $root.accountBlocksFlat,
                optionText: 'title',
                value: currentBlock
                }"/>

            </div>
        </div>
        <div class="form_row">
            <div class="form_row_label">
                <label>Группа</label>
            </div>
            <div class="form_row_input">
                <input type="hidden" data-bind="select:{
                options: $root.accountGroups,
                optionText: 'label',
                optionValue: 'value',
                value: group
                }"/>
            </div>
        </div>
        <div class="form_row">
            <div class="form_row_label" style="vertical-align: top">
                <label>Статус</label>
            </div>
            <div class="form_row_input">
                <input type="checkbox" data-bind="attr:{id:comment()+'_check'},checked:show">
                <label data-bind="attr:{for:comment()+'_check'}">Видимый</label>

                <div class="help_text">
                    Видимый счет будет показан в колонке счетов
                </div>
                <div data-bind="if:id">
                    <div class="delete_acc">
                        <div class="delete_acc_button" data-bind="click:deleteRecord"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /ko  -->
</script>

<script type="text/html" id="left-menu-insert-tpl">
    <!--------leftMenu-------->
    <!--<div class="totalMenu" data-bind="css:{selected:$root.accountId() == ''},-->
                <!--click:function(){$root.addAccIdToFilter({id:''})}">Все платежи-->
    <!--</div>-->
    <div class="leftMenu">
        <!--<div class="allBox">-->
            <!--<span class="bigText">ИТОГ</span>-->
            <!--<span class="largeValue" data-bind="digitext: totalActive() - totalPassive()"></span>-->
            <!--<span class="bigComment">КАПИТАЛА</span>-->
        <!--</div>-->
        <!--<div class="bottomBox">-->
            <!--<div class="greenBox">-->
                <!--<span class="bottomText">МОИ СРЕДСТВА</span>-->
            <!--</div>-->
            <!--<span gr="1" class="grayResult" data-bind="digitext:totalActive"></span>-->
        <!--</div>-->
        <!--<div class="bottomBox">-->
            <!--<div class="orangeBox">-->
                <!--<span class="bottomText">ДОЛГИ</span>-->
            <!--</div>-->
            <!--<span gr="2" class="grayResult" data-bind="digitext:totalPassive"></span>-->
        <!--</div>-->
        <div style="width: auto;height: 87px;">

        </div>
        <div class="emptyBox">
            <span class="categoryText">МОИ СРЕДСТВА</span>
        </div>
        <div class="selectableClickBox" data-bind="template:{name:'click-box-tpl',foreach:getActiveAcc()}"></div>
        <div class="emptyBox">
            <span class="categoryText">ДОЛГИ</span>
        </div>
        <div class="selectableClickBox" data-bind="template:{name:'click-box-tpl',foreach:getPassiveAcc()}"></div>
    </div>
</script>

<script type="text/html" id="left-menu-insert-new-tpl">
    <!--------leftMenu-------->
    <div class="leftMenu">
        <div class="allBox" style="margin-top: 20px;">
            <span class="bigText">ИТОГ</span>
            <span class="largeValue" data-bind="digitext: totalActive() - totalPassive()"></span>
            <span class="bigComment">КАПИТАЛА</span>
        </div>
        <div class="bottomBox">
            <div class="greenBox">
                <span class="bottomText">МОИ СРЕДСТВА</span>
            </div>
            <span gr="1" class="grayResult" data-bind="digitext:totalActive"></span>
        </div>
        <div class="bottomBox">
            <div class="orangeBox">
                <span class="bottomText">ДОЛГИ</span>
            </div>
            <span gr="2" class="grayResult" data-bind="digitext:totalPassive"></span>
        </div>
        <div style="z-index:100;position: relative;top:53px;left:-10px;margin:0 -30px 33px 0;width: 210px;" class="totalMenu" data-bind="css:{selected:$root.accountId() == ''},
                click:function(){$root.addAccIdToFilter({id:''})}">Все платежи
        </div>
        <div class="emptyBox">
            <span class="categoryText">МОИ СРЕДСТВА</span>
        </div>
        <div class="selectableClickBox" data-bind="template:{name:'click-box-tpl',foreach:getActiveAcc()}"></div>
        <div class="emptyBox">
            <span class="categoryText">ДОЛГИ</span>
        </div>
        <div class="selectableClickBox" data-bind="template:{name:'click-box-tpl',foreach:getPassiveAcc()}"></div>
    </div>
</script>

<script type="text/html" id="edit-settings-tpl">
</script>
<script type="text/html" id="edit-insert-tpl">
</script>
<script type="text/html" id="edit-observe-tpl">
</script>
<script type="text/html" id="default-settings-tpl">
</script>
<script type="text/html" id="default-insert-tpl">
</script>
<script type="text/html" id="default-observe-tpl">
</script>

<script type="text/html" id="account-page-tpl">
    <!--------accountDiv-------->
    <div id="accountDiv" class="content">
        <div class="menu-login-authorized">
            <span class="user-email" data-bind="text: user.login"></span>
            <nav class="user-pages-nav">
                <ul class="fr">
                    <li><a href="/feedback">Поддержка</a></li>
                    <li><a href="/payment">Тарифы</a></li>
                    <li class="active"><a href="/account">Приложение</a></li>
                    <li><a href="#" class="logout-link" data-bind="click:user.logout">Выйти</a></li>
                </ul>
            </nav>
        </div>

        <div class="topMenu">
            <div class="topMenuBox shortMenuItem lastItem" style="font-size: 22px;"
                 data-bind="gotoaction:'accmanage', css:{selected:action() == 'accmanage'}">+
            </div>
            <div class="topMenuBox shortMenuItem categories_tab"
                 data-bind="gotoaction:'settings', css:{selected:action() == 'settings'}">
            </div>
            <div class="topMenuBox" data-bind="gotoaction:'observe', css:{selected:action() == 'observe'}">ОБЗОР</div>
            <div class="topMenuBox" data-bind="gotoaction:'insert', css:{selected:action() == 'insert'}">ВВОД</div>
        </div>
        <!--------форма Обзор-------->
        <!--<div id="box1"></div>-->
        <!--------форма Ввод-------->
        <!--<div id="box2" ></div>-->
        <div data-bind="template: pageContentTemplateName"></div>
    </div>
</script>
<script type="text/html" id="click-box-tpl">
    <div class="clickBox" data-bind="
    click:function(){$data.toggleExpand();$root.addAccIdToFilter($data);},
    css:{selected:$root.accountId() == $data.id, hidden:show()==0}">
        <div class="smallclickIcon"
             data-bind="css:{
                              iconSmallDown: !expand() && children().length,
                              iconSmallLeft: expand() && children().length
                            }">
        </div>
        <span class="baseText" data-bind="shorttext:description"></span>
        <span data-bind="digitext: sum, css:{
                greenValue: type()=='IN' || group() == 1,
                orangeValue: type()=='OUT' || group() == 2
            }">0</span>
    </div>
    <!-- ko if: children().length && expand()-->
    <ul data-bind="foreach:children">
        <li data-bind="click:function(){$root.addAccIdToFilter($data);}">
            <span class="hiddenText" data-bind="shorttext:description"></span>
            <span class="hiddenValue" data-bind="digitext:sum">0</span>
        </li>
    </ul>
    <!-- /ko -->
</script>
<script type="text/html" id="catlist-box-tpl">
    <!-- ko ifnot: editMode -->
    <div data-bind="css:{has_child: children().length}">
        <div class="catlistItem" data-bind="text:description, click:setParentAccount"></div>
        <i class="icon next" data-bind="click:setParentAccount"></i>
        <i class="icon edit" data-bind="click:editAccount"></i>
        <i class="icon del" data-bind="click:removeAccount"></i>
    </div>
    <!-- /ko -->
    <!-- ko if: editMode -->
    <div>
        <div class="acc_edit_holder">
            <div class="acc_edit_close"><i class="icon del" data-bind="click:function(){ $data.editMode(false);}"></i>
            </div>
            <div class="acc_edit_row form_row">
                <div class="form_row_label">
                    <label>Название</label>
                </div>
                <div class="form_row_input">
                    <input type="text" data-bind="value:description">
                </div>
            </div>
            <!--<div class="acc_edit_row">-->
            <!--<label>Добавить в</label>-->
            <!--<input class="treeviewmenu" value="" data-bind="treemenu:{data:$root.accounst,value:parent}">-->
            <!--</div>-->
            <div class="acc_edit_row form_row">
                <div class="form_row_label">
                    <label>Добавить в</label>
                </div>
                <div class="form_row_input">
                    <div class="tablecell span10">
                        <input type="hidden" data-bind="select:{
                    options: $root.accounts,
                    optionText: 'description',
                    optionValue:'id',
                    value:newParent,
                    optionCaption:'Корневой раздел'
                    }">
                    </div>
                    <div class="tablecell span2">
                        <input type="hidden" data-bind="select:{
                    options:$root.user.usersCurrency,
                    optionText:'shortname',
                    optionValue:'currency_id',
                    value:$data.currency,
                    optionCaption:'---'
                    }">
                        <!--<select data-bind="options:$root.accounts,-->
                        <!--optionsText:'description',-->
                        <!--optionsValue:'id',-->
                        <!--value:$data.newParent,-->
                        <!--optionsCaption:'Корневой раздел'"></select>-->
                    </div>
                </div>
            </div>
            <div style="text-align: right;padding-right: 5px" class="form_row">
                <input type="button" class="button" value="Сохранить"
                       data-bind="click:function(){$data.editMode(false);}">
            </div>
            <!--<div class="acc_edit_row">-->
            <!--<label class="long">Разместить вверху списка</label>-->
            <!--</div>-->
        </div>
    </div>

    <!-- /ko -->

</script>
<script type="text/html" id="flexlist-title">
    <div class="currentParrent" data-bind="if:$root.accountsViewListParent() != 0">
        <span data-bind="click:accountLvlUp,accountname:$root.accountsViewListParent"></span>
    </div>
    <input class="vse-cancel button" type="button" value="Добавить" data-bind="click:addNewAccount"/>
</script>
<script type="text/html" id="treeview-tpl">
    <ul data-bind="foreach:$data">

    </ul>
    <input class="vse-cancel button" type="button" value="Добавить" data-bind="click:addNewAccount"/>
</script>
<script type="text/html" id="undefined-page-tpl">
    <!--<h1>Error 404 - Page not found.</h1>-->
</script>
<script type="text/html" id="undefined-tpl">
    <!--<h1>Template not found.</h1>-->
</script>
<script type="text/html" id="tr-split-tpl">
    <div class="split_transactions_body" data-bind="foreach:splitTransactions">
        <div class="split_transactions" data-bind="css:{'is-wrong':isWrong}">
            <div class="transaction_line"></div>
            <div class="transaction_to">
                <input type="hidden" data-bind="treeSelect:{
                                            options:$parent.toAcc,
                                            optionText:'description',
                                            optionValue: 'id',
                                            optionTree: 'children',
                                            value:to_id,
                                            css:{width: 'auto', 'min-width':'123px',top: '28px',left:'0px'}
                                         }">
            </div>
            <div class="transaction_amount">
                <input type="text" data-bind="value:amount">
            </div>
            <div class="transaction_remove" data-bind="if: $index() > 1">
                <span data-bind="click:$parent.removeSplitTransaction"></span>
            </div>
        </div>
    </div>
    <div class="split_transactions_footer">

    </div>
</script>
<script type="text/html" id="tr-comment-tpl">
    <!-- TODO AUTOFOCUS -->
    <textarea autofocus
            data-bind="value:comment, event:{keydown:function(){if($data.comment() == 'Комментарий'){$data.comment('');}return true;}},hasfocus:true"></textarea>
</script>
<script type="text/html" id="tr-default-tpl">
</script>
<script type="text/html" id="edit-login-tpl">
</script>
</body>
</html>
