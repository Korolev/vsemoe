<!DOCTYPE html>
<!-- 2h[18.11] 3h[2.12] 2h[3.12] 4h [9.12] 1h[10.12] 4h [11.12] 4h[12.12] *[13.13] 5h[14.12] 3h[16.12] 3h[17.12]-->
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <title>Всё Моё &mdash; Сервис управления личными финансами</title>
    <meta name="title" content="Всё Моё &mdash; Сервис управления личными финансами - VseMoe.RU">
    <meta name="description"
          content="Всё Моё &mdash; Сервис управления личными финансами и и семейным бюджетом - VseMoe.RU">
    <link rel="shortcut icon" href="favicon.ico">

    <link href="../css/fonts.css" rel="stylesheet" type="text/css">
    <link href="../css/style.css" rel="stylesheet" type="text/css">
    <link href="../css/login.css" rel="stylesheet" type="text/css">
    <link href="../css/personal.css" rel="stylesheet" type="text/css">
    <link href="../css/account.css" rel="stylesheet" type="text/css">
    <link href="../css/pickmeup.css" rel="stylesheet" type="text/css">
    <link href="../css/animate-custom.css" rel="stylesheet" type="text/css">
    <link href="../js/lib/select/css/core.css" rel="stylesheet" type="text/css">
    <link href="../js/lib/select/css/core-ui-select.css" rel="stylesheet" type="text/css">


    <script src="../js/lib/modernizr-2.6.2.min.js"></script>
</head>
<body class="inner">
<div class="top"></div>
<div class="wrap">
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        // (function (d, w, c) {
        //     (w[c] = w[c] || []).push(function() {
        //         try {
        //             w.yaCounter22607524 = new Ya.Metrika({id:22607524,
        //                     webvisor:true,
        //                     clickmap:true,
        //                     trackLinks:true,
        //                     accurateTrackBounce:true});
        //         } catch(e) { }
        //     });

        //     var n = d.getElementsByTagName("script")[0],
        //         s = d.createElement("script"),
        //         f = function () { n.parentNode.insertBefore(s, n); };
        //     s.type = "text/javascript";
        //     s.async = true;
        //     s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

        //     if (w.opera == "[object Opera]") {
        //         d.addEventListener("DOMContentLoaded", f, false);
        //     } else { f(); }
        // })(document, window, "yandex_metrika_callbacks");
    </script>
    <noscript>
        <div><img src="//mc.yandex.ru/watch/22607524" style="position:absolute; left:-9999px;" alt=""/></div>
    </noscript>
    <!-- /Yandex.Metrika counter -->
    <header>
        <div class="logo fl">
            <h1><a href="/" title="Всё Мое"></a></h1>
        </div>
    </header>
    <div id="app_body" data-bind="template: pageTemplateName">
    </div>
    <div class="empty"></div>
    <!-- ko if:modalWindow -->
    <div class="hidden" data-bind="click: $root.modalClose, css:{modalHolder:$root.modalWindow, hidden:false}">
        <div class="modalWindow">
            <div class="modalMessage" data-bind="text: $root.modalWindow().text"></div>
            <div class="modalButtons">
                <input type="button" class="cancel" data-bind="click: $root.modalClose, value: $root.modalCancelLabel"/>
                <input type="button" data-bind="
                value: $root.modalWindow().buttons.okLabel,
                click:  $root.modalWindow().buttons.okFunc"/>
            </div>
        </div>
    </div>
    <!-- /ko -->
</div>
<footer>
    <div class="in">
        <div class="bottomlogo"><a href="http://vsemoe.ru"></a></div>
        <!--<ul class="navi">
            <li><a href="tour.html">Продукты</a></li>
            <li><a href="http://media.vsemoe.org">Блог</a></li>
            <li><a href="contacts.html">Контакты</a></li>
            <li><a href="rules.html">Правила</a></li>
            <li><a href="price.html">Реклама</a></li>
        </ul>
        <ul class="socials">
            <li><a href="http://facebook.com/vsemoe.ru" target="_blank" class="fb"></a></li>
            <li><a href="https://twitter.com/vsemoe_ru" target="_blank" class="twitter"></a></li>
            <li><a href="http://vk.com/vsemoe_ru" target="_blank" class="vk"></a></li>
        </ul>-->
        <span class="copy">@ 2013 &laquo;Всё Моё&raquo; Все права защищены</span>
    </div>
</footer>
<!-- jQuery library -->
<!--<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/lib/jquery-1.8.2.min.js"><\/script>')</script>-->
<script src="../js/lib/jquery-1.8.2.min.js"></script>
<script src="../js/lib/select/js/jquery.core-ui-select.js"></script>
<script src="../js/lib/sammy-latest.min.js"></script>
<script src="../js/lib/moment.min.js"></script>
<script src="../js/jquery.treemenu.js"></script>
<script src="../js/jquery.pickmeup.min.js"></script>
<script src="../js/lib/knockout-latest.js"></script>
<script src="../js/ko.additional.js"></script>
<script src="../js/ServerApi.js"></script>
<script src="../js/ViewModel/UserViewModel.js"></script>
<script src="../js/ViewModel/AccountViewModel.js"></script>
<script src="../js/ViewModel/FilterViewModel.js"></script>
<script src="../js/ViewModel/ApplicationViewModel.js"></script>
<!--<script src="/html_stage/js/jquery.cookie.js"></script>-->
<!--<script src="../js/lib/jquery-ui.js"></script>-->
<!--<script src="../js/lib/jquery.validate.min.js"></script>-->
<!--<script src="../js/lib/jquery.form.js"></script>-->
<!--<script src="../js/lib/easyXDM/Core.js"></script>-->
<!--<script src="../js/lib/easyXDM/Rpc.js"></script>-->
<!--<script src="../js/lib/easyXDM/easyXDM.debug.js"></script>-->
<!--<script src="../js/lib/json2.js"></script>-->
<!--<script type="text/javascript" src="../js/touchslider.js"></script>-->
<!--<script src="../js/util.js"></script>-->
<!--<script src="../js/main.js"></script>-->
<!--<script src="../js/account.js"></script>-->
<!--<script src="Scripts/jquery-ui-1.8.11.min.js" type="text/javascript"></script>-->

<script>
    var _gaq = [
        ['_setAccount', 'UA-XXXXX-X'],
        ['_trackPageview']
    ];
    (function (d, t) {
        var g = d.createElement(t), s = d.getElementsByTagName(t)[0];
        g.src = ('https:' == location.protocol ? '//ssl' : '//www') + '.google-analytics.com/ga.js';
        s.parentNode.insertBefore(g, s)
    }(document, 'script'));

    var calendarMonthNamesLoc = ["Января", "Февраля", "Марта",
        "Апреля", "Мая", "Июня",
        "Июля", "Августа", "Сентября",
        "Октября", "Ноября", "Декабря"];
    var calendarMonthNamesLoc = ["Янв", "Фев", "Мар", "Апр", "Май", "Июн", "Июл", "Авг", "Сен", "Окт", "Ноя", "Дек"];
    var date = new Date();
    var time = date.getDate() + ' ' + calendarMonthNamesLoc[date.getMonth()].toUpperCase();
    //var time = date.getDate() + ' ' + calendarMonthNamesLoc[date.getMonth()] + ' ' + date.getFullYear();
    $(".noticeDate").html(time);
    //window.setTimeout(arguments.callee, 1000);

    $(function () {
        if (ServerApi.options.dev || true) {
            $__app = new ApplicationViewModel();
            ko.applyBindings($__app);
        } else {
            ko.applyBindings(new ApplicationViewModel());
        }

        $(".autocompleteFix").each(function () {
            $(this).trigger('change');
        });
    });
</script>

<script type="text/html" id="login-page-tpl">
    <!------------loginDiv------------>
    <div id="loginDiv" class="content">
        <nav class="login-nav">
            <ul class="fr">
                <li></li>
                <li><a href="http://vsemoe.reformal.ru">Поддержка</a></li>
            </ul>
        </nav>
        <div class="hole"></div>
        <div class="cup"></div>
        <div class="form" id="formtab">
            <ul class="hidden">
                <li><a href="#login"></a></li>
                <li><a href="#register"></a></li>
                <li><a href="#restore"></a></li>
                <li><a href="#congratulations"></a></li>
                <li><a href="#changepass"></a></li>
            </ul>
            <!--&lt;!&ndash;Вход в личный кабинет&ndash;&gt;-->
            <!--<div id="login"></div>-->
            <!--&lt;!&ndash;Регистрация&ndash;&gt;-->
            <!--<div id="register" class="hidden"></div>-->
            <!--&lt;!&ndash;Восстановление пароля&ndash;&gt;-->
            <!--<div id="restore" class="hidden"></div>-->
            <!--<div id="congratulations" class="hidden"></div>-->
            <!--&lt;!&ndash;Меняем пароль&ndash;&gt;-->
            <!--<div id="changepass" class="hidden"></div>-->
            <div data-bind="template: pageContentTemplateName"></div>
        </div>
        <div class="slash"></div>
    </div>
</script>

<script type="text/html" id="login-tpl">
    <h1>Вход в личный кабинет</h1>

    <div class="login">
        <div class="form_item">
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.loginError()}"/>
            <input autofocus="true" type="email" tabindex="1" class="login autocompleteFix" name="user"
                   placeholder="Электронная Почта"
                   data-bind="event:{focusout:user.loginValidate()},value: user.login,valueUpdate:'input',css:{error:user.loginError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.login().length == 0},click:function(){$root.user.login('')}"></div>
        </div>
        <div class="form_item">
            <a href="#restore" class="forgot hiddenToggle" title="Напомнить или изменить пароль"
               data-bind="css:{hiddenImp:user.password() != ''}">?</a>
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.passwordError()}"/>
            <input type="password" tabindex="2" name="password" placeholder="Пароль" class="autocompleteFix"
                   data-bind="value: user.password,valueUpdate:'input',css:{error:user.passwordError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.password().length == 0},click:function(){$root.user.password('')}"></div>
        </div>

        <div class="allErrors" data-bind="css:{hidden:!user.hasErrors()}">
            <p class="error" data-bind="text:user.errorText"></p>
        </div>
        <div class="errortext hidden error">
            <p class="error">"Логин и пароль не соответствуют друг другу"</p>
        </div>
        <div class="form_item remember">
            <input type="checkbox" id="remember" data-bind="checked: user.remember"/>
            <label for="remember">Запомнить меня</label>
        </div>
        <div class="form_but">
            <input type="button" value="Войти" data-bind="click: userLogin"/>
        </div>
    </div>
    <a href="#register" class="form_link">Зарегистрироваться на Всё Моё?</a>
</script>

<script type="text/html" id="register-tpl">
    <h1>Регистрация</h1>

    <div class="register">
        <div class="form_item">
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.emailError()}"/>
            <input autofocus="true" type="email" tabindex="1" class="login" name="user" placeholder="Электронная Почта"
                   data-bind="event:{focusout:user.loginValidate()},value: user.email,valueUpdate:'input',css:{error:user.emailError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.email().length == 0},click:function(){$root.user.email('')}"></div>
        </div>
        <div class="form_item">
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.passwordError()}"/>
            <input type="password" tabindex="2" name="password" placeholder="Пароль"
                   data-bind="value: user.password,valueUpdate:'input',css:{error:user.passwordError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.password().length == 0},click:function(){$root.user.password('')}"></div>
        </div>

        <div class="allErrors" data-bind="css:{hidden:!user.hasErrors()}">
            <p class="error" data-bind="text:user.errorText"></p>
        </div>
        <!-- <div class="form_item ">
                <img src="images/alert.png" class="hidden error" alt="Ошибка" title="Ошибка" />
                <input type="password" name="repassword" placeholder="Потвердите Пароль" />
                <input type="reset" value="" title="Очистить" class="hiddenImp hiddenToggle" />
                <div class="allErrors"></div>
                <div class="errortext hidden error">
                    <p>Пользователь с таким логином уже существует</p>
                </div>
            </div>-->
        <div class="form_but">
            <input type="button" data-bind="click:userRegister" value="Регистрироваться"/>
        </div>
    </div>
    <a href="#login" class="form_link">Уже зарегистрированы?</a>
</script>

<script type="text/html" id="restore-tpl">
    <h1>Восстановление пароля</h1>

    <div class="restore">
        <div class="form_item">
            <p>Для восстановления пароля укажите адрес электронной почты</p>
        </div>
        <div class="form_item">
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.loginError()}"/>
            <input autofocus="true" type="email" tabindex="1" class="login" name="user" placeholder="Электронная Почта"
                   data-bind="event:{focusout:user.loginValidate()},value: user.login,valueUpdate:'input',css:{error:user.loginError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.login().length == 0},click:function(){$root.user.login('')}"></div>
        </div>
        <div class="allErrors" data-bind="css:{hidden:!user.hasErrors()}">
            <p class="error" data-bind="text:user.errorText"></p>
        </div>
        <div class="form_but decor">
            <input type="button" data-bind="click:userRestore" value="Восстановить"/>
        </div>
    </div>
    <a href="#register" class="form_link">Зарегистрироваться на Всё Моё?</a>
</script>

<script type="text/html" id="changepass-tpl">
    <h1>Меняем пароль</h1>
    <div class="changepass">
        <div class="form_item">
            <p>Для вашего аккаунта зарегистрированного на почту:
                <span name="user" class="email" data-bind="text:user.login"></span>
            </p>
        </div>
        <div class="form_item">
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.passwordError()}"/>
            <input type="password" tabindex="2" name="password" placeholder="Пароль"
                   data-bind="value: user.password,valueUpdate:'input',css:{error:user.passwordError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.password().length == 0},click:function(){$root.user.password('')}"></div>
        </div>

        <div class="form_item">
            <img src="/images/alert.png" class="error" alt="Ошибка" title="Ошибка"
                 data-bind="css:{hidden:!user.passwordError()}"/>
            <input type="password" tabindex="2" name="password" placeholder="Повторите Пароль"
                   data-bind="event:{focusout:user.repasswordValidate()},value: user.repassword,valueUpdate:'input',css:{error:user.passwordError()}"/>

            <div class="resetBox"
                 data-bind="css:{hiddenImp:user.repassword().length == 0},click:function(){$root.user.repassword('')}"></div>
        </div>

        <div class="allErrors" data-bind="css:{hidden:!user.hasErrors()}">
            <p class="error" data-bind="text:user.errorText"></p>
        </div>
        <div class="form_but">
            <input type="button" data-bind="click:userChangepass" value="Изменить"/>
        </div>
    </div>
</script>

<script type="text/html" id="congratulations-tpl">
    <div class="form_item" style="height: 200px;">
        <p>Пожалуйста, перейдите в указанный вами почтовый ящик для продолжения восстановления
            пароля.</p>
    </div>
    <a href="#register" class="form_link">Зарегистрироваться на Всё Моё?</a>
</script>

<script type="text/html" id="observe-tpl">
    <table class="contentTable">
        <tr>
            <td class="tdleftMenu">
                <!--------leftMenu-------->
                <div class="leftMenu">
                    <div class="totalBox">
                        <span class="largeText">ОСТАТОК</span>
                        <span class="largeValue" data-bind="digitext:totalGain()-totalConsumption()"></span>
                        <span class="largeComment">ДОХОДА</span>
                    </div>
                    <div class="totalPercent">
                        <span class="percentValue"></span>

                        <div class="trend"></div>
                    </div>
                    <div class="bottomBox">
                        <div class="greenBox">
                            <span class="bottomText">ДОХОДЫ</span>
                        </div>
                        <span class="greenResult" data-bind="digitext:totalGain"></span>
                    </div>
                    <div class="bottomBox">
                        <div class="orangeBox">
                            <span class="bottomText">РАСХОДЫ</span>
                        </div>
                        <span class="orangeResult" data-bind="digitext:totalConsumption"></span>
                    </div>
                    <div class="emptyBox">
                        <span class="categoryText">Доходы</span>
                    </div>
                    <div data-bind="template:{name:'click-box-tpl',foreach:getGainAcc()}"></div>
                    <div class="emptyBox">
                        <span class="categoryText">Расходы</span>
                    </div>
                    <div data-bind="template:{name:'click-box-tpl',foreach:getConsumptionAcc()}"></div>
                </div>
            </td>
            <!--------rightMenu-------->
            <td class="tdrightMenu">
                <div class="rightMenu">
                    <div class="rightTop">
                        <div class="rightTopText">БАЛАНС</div>
                    </div>
                    <div class="titleText" data-bind="text:$root.header"></div>
                    <!----favorites---->
                    <div class="notice">
                        <div class="noticeTitle">ИТОГО</div>
                        <div class="noticeText">КАПИТАЛ = МОИ СРЕДСТВА - ДОЛГИ</div>
                        <div class="noticeValue" data-bind="digitext:totalActive()-totalPassive()"></div>
                                    <span class="noticePercent">
                                        <span class="percentValue"></span>
                                        <div class="trend"></div>
                                    </span>

                        <div class="noticeSymbol">На <span data-bind="text:todayShorUpper"></span></div>
                        <div class="noticeDate"></div>
                    </div>
                    <!----activeBox---->
                    <div g="1" class="activeBox fl">
                        <div class="activeTop">
                            <span class="greenSymbol HelveticaNeueBold" data-bind="currency:baseCurrencyId">Pуб</span>
                            <span class="activeText" data-bind="digitext:totalActive"></span>
                        </div>
                        <div class="titleBox">
                            <span class="generalText">МОИ СРЕДСТВА / (АКТИВЫ)</span>
                            <span class="generalValue">В</span>
                            <span class="generalValue">СУММА</span>
                        </div>
                        <!-- ko foreach: getActiveAcc()-->
                        <div class="walletBox">
                            <div class="largeclickIcon "></div>
                            <span class="normalText" data-bind="shorttext:description"></span>
                            <span class="greenSymbol" data-bind="currency:currency"></span>
                            <span class="greenValue" data-bind="digitext:sum"></span>
                        </div>
                        <!-- /ko -->
                    </div>
                    <!----passiveBox---->
                    <div g="2" class="passiveBox fr">
                        <div class="passiveTop">
                            <span class="orangeSymbol HelveticaNeueBold" data-bind="currency:baseCurrencyId">Pуб</span>
                            <span class="passiveText" data-bind="digitext:totalPassive"></span>
                        </div>
                        <div class="titleBox">
                            <span class="generalText">ДОЛГИ / (ПАССИВЫ)</span>
                            <span class="generalValue">В</span>
                            <span class="generalValue">СУММА</span>
                        </div>
                        <!-- ko foreach: getPassiveAcc()-->
                        <div class="walletBox">
                            <div class="largeclickIcon "></div>
                            <span class="normalText" data-bind="shorttext:description"></span>
                            <span class="orangeSymbol" data-bind="currency:currency"></span>
                            <span class="orangeValue" data-bind="digitext:sum"></span>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </td>
        </tr>
    </table>
</script>

<script type="text/html" id="insert-tpl">
    <table class="contentTable">
        <tr>
            <td class="tdleftMenu" data-bind="template:'left-menu-insert-tpl'"></td>
            <!--------rightMenu-------->
            <td class="tdrightMenu">
                <div class="rightMenu">
                    <div class="inputText floatHeader" data-bind="text:$root.header"></div>
                    <div class="tableFilters">
                        <div class="filterItem" data-bind="foreach:tableFilters">
                            <!-- ko if : selected -->
                            <div class="rangePicker" data-bind="text:short,
                            click: selectRange,
                            css : { 'checked' : $data == $root.selectedFilter()}"></div>
                            <!-- /ko -->
                        </div>
                        <div class="filterItem">
                            <div class="filterItemConfig"
                                 data-bind="click:function(){$root.showFilterConfig(!$root.showFilterConfig())}"></div>
                            <div class="itemDropDown animated"
                                 data-bind="css:{'hidden':!showFilterConfig(),'fadeInDown':showFilterConfig()}">
                                <div class="dropDownTitle" data-bind="click:function(){$root.showFilterConfig(false);}">
                                    Периоды
                                </div>
                                <div data-bind="foreach:tableFilters">
                                    <div data-bind="visible: !hidden"><span class="fakecheckbox" data-bind="text:label,
                                    css:{checked:selected},
                                    click:toggleSelected"></span></div>
                                </div>
                            </div>
                        </div>
                        <div class="filterItem">
                            <div class="dateInput dateFrom"
                                 data-bind="datepick:{value:timeFilterFrom,format:'DD MMM YY'}"></div>
                            -
                            <div class="dateInput dateTo"
                                 data-bind="datepick:{value:timeFilterTo,format:'DD MMM YY'}"></div>
                        </div>
                    </div>
                    <div class="clear"></div>
                    <div class="tableBox">
                        <table class="baseTable">
                            <thead>
                            <tr>
                                <th width="24">
                                    <div class="check"></div>
                                </th>
                                <th align="left">ДАТА</th>
                                <th align="left">СЧЕТ</th>
                                <th align="left">КАТЕГОРИЯ</th>
                                <th align="left">ВАЛЮТА</th>
                                <th align="right">СУММА</th>
                                <th align="left">КОММЕНТАРИЙ</th>
                                <th align="left"></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr class="nohover edit_row">
                                <td width="24">
                                    <!--<div class="checkbox"></div>-->
                                </td>
                                <td align="left" class="thead1">00.00.00</td>
                                <td align="left" class="thead2">Средства</td>
                                <td align="left" class="thead3">Откуда/Куда</td>
                                <td align="right" class="thead4" colspan="2">0.00</td>
                                <td align="left" class="thead5">Где или Что Сделано?</td>
                                <td align="left" class="thead6"></td>
                            </tr>
                            <!--<tr class="nohover">-->
                                <!--<td colspan="7">-->
                                    <!--<div>EDIT</div>-->
                                <!--</td>-->
                            <!--</tr>-->
                            </tbody>
                            <!-- ko if: transactions -->
                            <tbody data-bind="foreach:transactionsSet">
                            <tr data-bind="css:{tr_newday:newday == 1}">
                                <td width="24" data-bind="if:created">
                                    <!-- <div class="checkbox"></div> -->
                                </td>
                                <td align="left" class="tbody1" data-bind="textdate:created"></td>
                                <td align="left" class="tbody2">
                                    <span data-bind="accountname:from_id"></span>
                                    <span>&nbsp;</span>
                                    <span data-bind="if:$root.getCssClass($data)=='transport_tr'">&rarr;</span>
                                </td>
                                <td align="left" class="tbody3" data-bind="accountname:to_id"></td>
                                <td align="right" class="tbody4" colspan="2">
                                    <span></span>
                                    <span data-bind="absdigitext:amount, css:$root.getCssClass($data)"></span>
                                    </td>
                                <td align="left" class="tbody5"><span data-bind="text:description"></span><span
                                        data-bind="css:{split:split != '0'}"></span>
                                </td>
                                <td>

                                </td>
                            </tr>
                            </tbody>
                            <!-- /ko -->
                        </table>
                    </div>
                </div>
                <div class="horisontal_line"></div>
                <!---paging-->
                <div class="pagingBox" id="transPaging" style="cursor: pointer;"
                     data-bind="if:$root.totalPagesArr().length > 1">
                    <div class="paging imgfirst" data-bind="click:function(){$root.currentPage(1)}"></div>
                    <div class="paging imgprev"
                         data-bind="click:function(){$root.currentPage($root.currentPage()-1)}"></div>
                    <!-- ko foreach: $root.totalPagesArr -->
                    <div class="paging imgcolor" data-bind="
                        text:$data,
                        click:function(){$root.currentPage($data)},
                        css:{
                        'bold imgnone':$data == $root.currentPage(),
                        imgcolor: $data != $root.currentPage()
                        }"></div>
                    <!-- /ko -->
                    <!-- ko if: $root.totalPages() > 5 -->
                    <div class="additional_pagin_box">
                        <input type="text" class="selectPage pag" data-bind="value:currentPage"/>

                        <div class="pagingtext pag">of</div>
                        <div class="pagingcount pag" data-bind="text:totalPages"></div>
                        <div class="pagingsubmit pag"></div>
                    </div>
                    <!-- /ko -->

                    <!-- ko if: $root.totalPages() <6 -->
                    <div class="paging imgnext"
                         data-bind="click:function(){$root.currentPage($root.currentPage()+1)}"></div>
                    <!-- /ko -->

                    <div class="paging imglast"
                         data-bind="click:function(){$root.currentPage($root.totalPages())}"></div>
                </div>

            </td>
        </tr>
    </table>
</script>

<script type="text/html" id="categories-tpl">
    <table class="contentTable">
        <tr>
            <td class="tdleftMenu" data-bind="template:'left-menu-insert-tpl'"></td>
            <!--------rightMenu-------->
            <td class="tdrightMenu categories">
                <div class="rightMenu">
                    <div class="inputText floatHeader" data-bind="text:$root.header"></div>
                    <div class="clear"></div>
                    <div class="vse-tabs" data-bind="tabs:{options:{
                        callback:{
                            'tabs-1': function(){
                                 this.accountsViewListParent(0);
                                 this.accountsViewListGroup(0);
                                 this.accountsViewListType('OUT');
                            },
                            'tabs-2': function(){
                                 this.accountsViewListParent(0);
                                 this.accountsViewListGroup(0);
                                 this.accountsViewListType('IN');
                            },
                        }
                    }}">
                        <ul>
                            <li><a href="#tabs-1">
                                <span class="vseOrange">&ndash;</span>
                                <span>Расход</span>
                            </a></li>
                            <li><a href="#tabs-2">
                                <span class="vseGreen">+</span>
                                <span>Доход</span>
                            </a></li>
                        </ul>
                        <div id="tabs-1">
                            <div class="flexlisttitle" data-bind="template:'flexlist-title'"></div>
                            <div class="flexlist"
                                 data-bind="template:{name:'catlist-box-tpl',foreach:accountsViewList}"></div>
                        </div>
                        <div id="tabs-2">
                            <div class="flexlisttitle" data-bind="template:'flexlist-title'"></div>
                            <div class="flexlist"
                                 data-bind="template:{name:'catlist-box-tpl',foreach:accountsViewList}"></div>
                        </div>
                    </div>
                </div>

            </td>
        </tr>
    </table>
</script>

<script type="text/html" id="accmanage-tpl">
    <table class="contentTable">
        <tr>
            <td class="tdleftMenu" data-bind="template:'left-menu-insert-tpl'"></td>
            <!--------rightMenu-------->
            <td class="tdrightMenu">
                <div class="rightMenu" data-bind="template:pageEditItemTemplateName"></div>
            </td>
        </tr>
    </table>
</script>

<script type="text/html" id="default-accmanage-tpl">
    <div class="inputText floatHeader" data-bind="text:$root.header"></div>
    <div class="clear"></div>
    <div class="accounts_main" data-bind="foreach:$root.accountBlocks">
        <div class="accounts_block" data-bind="css:addClass">
            <div class="accounts_block_header" data-bind="text:title"></div>
            <div data-bind="foreach:items">
                <div class="accounts_block_item">
                    <i data-bind="css:icon,click:$root.editAcc"></i>
                    <div data-bind="text:title"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="clear"></div>
    <p class="help_text">
        Выши счета находятся в панели слева, для того чтобы отредактировать счет, выберите его.
    </p>
</script>

<script type="text/html" id="edit-accmanage-tpl">
    <!-- ko with:$root.accountInEdit -->
    <div class="inputText floatHeader">
        <span data-bind="text: id ? 'Редактирование' : 'Создание'"></span>
        <span style="font-size: 14px;vertical-align: bottom">&gt;&nbsp;<span data-bind="text: description"></span></span>
    </div>
    <div class="clear"></div>
    <div class="account_edit_form">
        <div class="buttons_bar">
            <input class="vse-cancel button" type="button" value="Отмена" data-bind="gotoaction:'accmanage'"/>
            <input class="button" type="button" value="Добавить" data-bind="click:$root.saveAccount"/>
        </div>
        <div class="form_row">
            <div class="form_row_label">
                <div>
                    <i data-bind="css:comment"></i>
                </div>
            </div>
            <div class="form_row_input">
                <label class="block">Название</label>
                <input type="text" data-bind="value:description"/>
                <div class="help_text" data-bind="text:helpText"></div>
            </div>
        </div>
        <div class="form_row">
            <div class="form_row_label">
                <label>Cумма</label>
            </div>
            <div class="form_row_input split_input">
                <input type="text" data-bind="value:sum"/>
                <select data-bind="options:$root.currencyArr,
                optionsText:function(item){return item.description+' ('+item.shortname+')'},
                optionsValue:'currency_id',
                value:$data.currency,
                optionsCaption:'---'"></select>
            </div>
        </div>
        <div class="form_row big_margin">
            <div class="form_row_label">
                <label>Тип</label>
            </div>
            <div class="form_row_input">
                <select data-bind="options:$root.accountBlocks, optionsText:'title'"></select>
            </div>
        </div>
        <div class="form_row">
            <div class="form_row_label">
                <label>Группа</label>
            </div>
            <div class="form_row_input">
                <select data-bind="options:['Мои средства','Долги','Неопределен']"></select>
            </div>
        </div>
        <div class="form_row">
            <div class="form_row_label">
                <label>Статус</label>
            </div>
            <div class="form_row_input">
                <input type="checkbox" data-bind="attr:{id:comment+'_check'}">
                <label data-bind="attr:{for:comment+'_check'}">Видимый</labe>
                <div class="help_text">
                    Видимый счет будет показан в колонке счетов
                </div>
            </div>
        </div>
    </div>
    <!-- /ko  -->
</script>

<script type="text/html" id="left-menu-insert-tpl">
    <!--------leftMenu-------->
    <div class="totalMenu" data-bind="css:{selected:$root.accountId() == ''},
                click:function(){$root.addAccIdToFilter({id:''})}">Все платежи
    </div>
    <div class="leftMenu">
        <div class="allBox">
            <span class="bigText">ИТОГ</span>
            <span class="largeValue" data-bind="digitext: totalActive() - totalPassive()"></span>
            <span class="bigComment">КАПИТАЛА</span>
        </div>
        <div class="bottomBox">
            <div class="grayBox">
                <span class="bottomText">МОИ СРЕДСТВА</span>
            </div>
            <span gr="1" class="grayResult" data-bind="digitext:totalActive"></span>
        </div>
        <div class="bottomBox">
            <div class="grayBox">
                <span class="bottomText">ДОЛГИ</span>
            </div>
            <span gr="2" class="grayResult" data-bind="digitext:totalPassive"></span>
        </div>
        <div class="emptyBox">
            <span class="categoryText">МОИ СРЕДСТВА</span>
        </div>
        <div class="selectableClickBox" data-bind="template:{name:'click-box-tpl',foreach:getActiveAcc()}"></div>
        <div class="emptyBox">
            <span class="categoryText">ДОЛГИ</span>
        </div>
        <div class="selectableClickBox" data-bind="template:{name:'click-box-tpl',foreach:getPassiveAcc()}"></div>
    </div>
</script>

<script type="text/html" id="edit-categories-tpl">
</script>
<script type="text/html" id="edit-insert-tpl">
</script>
<script type="text/html" id="edit-observe-tpl">
</script>
<script type="text/html" id="default-categories-tpl">
</script>
<script type="text/html" id="default-insert-tpl">
</script>
<script type="text/html" id="default-observe-tpl">
</script>

<script type="text/html" id="account-page-tpl">
    <!--------accountDiv-------->
    <div id="accountDiv" class="content">
        <nav class="login-nav">
            <ul class="fr">
                <li>
                    <a class="emailAccount" href="" data-bind="text:user.login">testing@mail.ru</a>
                </li>
                <li>
                    <div class="chertochka"></div>
                </li>
                <li>
                    <a href="http://vsemoe.reformal.ru">Поддержка</a>
                </li>
                <li>
                    <div class="chertochka"></div>
                </li>
                <li>
                    <a id="existAccount" href="/" data-bind="click:$root.userLogOut">
                        <div class="logout"></div>
                        Выход</a>
                </li>
            </ul>
        </nav>
        <div class="topMenu">
            <div class="topMenuBox shortMenuItem" style="font-size: 22px" data-bind="gotoaction:'accmanage', css:{selected:action() == 'accmanage'}">+</div>
            <div class="topMenuBox shortMenuItem lastItem"
                 data-bind="gotoaction:'categories', css:{selected:action() == 'categories'}">K
            </div>
            <div class="topMenuBox" data-bind="gotoaction:'observe', css:{selected:action() == 'observe'}">ОБЗОР</div>
            <div class="topMenuBox" data-bind="gotoaction:'insert', css:{selected:action() == 'insert'}">ВВОД</div>
        </div>
        <!--------форма Обзор-------->
        <!--<div id="box1"></div>-->
        <!--------форма Ввод-------->
        <!--<div id="box2" ></div>-->
        <div data-bind="template: pageContentTemplateName"></div>
    </div>
</script>
<script type="text/html" id="click-box-tpl">
    <div class="clickBox" data-bind="
    click:function(){$data.toggleExpand();$root.addAccIdToFilter($data);},
    css:{selected:$root.accountId() == $data.id}">
        <div class="smallclickIcon"
             data-bind="css:{
                              iconSmallDown: !expand() && children().length,
                              iconSmallLeft: expand() && children().length
                            }">
        </div>
        <span class="baseText" data-bind="shorttext:description"></span>
        <span data-bind="digitext: sum, css:{
                greenValue: type()=='IN' || group() == 1,
                orangeValue: type()=='OUT' || group() == 2
            }">0</span>
    </div>
    <!-- ko if: children().length && expand()-->
    <ul data-bind="foreach:children">
        <li data-bind="click:function(){$root.addAccIdToFilter($data);}">
            <span class="hiddenText" data-bind="shorttext:description"></span>
            <span class="hiddenValue" data-bind="shorttext:sum">0</span>
        </li>
    </ul>
    <!-- /ko -->
</script>
<script type="text/html" id="catlist-box-tpl">
<!-- ko ifnot: editMode -->
    <div data-bind="css:{has_child: children().length}">
        <div class="catlistItem" data-bind="text:description, click:setParentAccount"></div>
        <i class="icon next" data-bind="click:setParentAccount"></i>
        <i class="icon edit" data-bind="click:editAccount"></i>
        <i class="icon del" data-bind="click:removeAccount"></i>
    </div>
<!-- /ko -->
<!-- ko if: editMode -->
    <div >
        <div class="acc_edit_holder">
            <div class="acc_edit_close"><i class="icon del" data-bind="click:function(){ $data.editMode(false);}"></i></div>
            <div class="acc_edit_row">
                <label>Название</label>
                <input type="text" data-bind="value:description">
            </div>
            <!--<div class="acc_edit_row">-->
                <!--<label>Добавить в</label>-->
                <!--<input class="treeviewmenu" value="" data-bind="treemenu:{data:$root.accounst,value:parent}">-->
            <!--</div>-->
            <div class="acc_edit_row">
                <label>Добавить в</label>
                <select data-bind="options:$root.accounts,
                optionsText:'description',
                optionsValue:'id',
                value:$data.newParent,
                optionsCaption:'Корневой раздел'"></select>
            </div>
            <div class="acc_edit_row">
                <label>Валюта</label>
                <select data-bind="options:$root.currencyArr,
                optionsText:function(item){return item.description+' ('+item.shortname+')'},
                optionsValue:'currency_id',
                value:$data.currency,
                optionsCaption:'---'"></select>
            </div>
            <!--<div class="acc_edit_row">-->
                <!--<label class="long">Разместить вверху списка</label>-->
            <!--</div>-->
        </div>
    </div>

<!-- /ko -->

</script>
<script type="text/html" id="flexlist-title">
    <div class="currentParrent" data-bind="if:$root.accountsViewListParent() != 0">
        <span data-bind="click:accountLvlUp,accountname:$root.accountsViewListParent"></span>
    </div>
    <input class="vse-cancel button" type="button" value="Добавить" data-bind="click:addNewAccount"/>
</script>
<script type="text/html" id="treeview-tpl">
    <ul data-bind="foreach:$data">

    </ul>
    <input class="vse-cancel button" type="button" value="Добавить" data-bind="click:addNewAccount"/>
</script>
<script type="text/html" id="undefined-page-tpl">
    <!--<h1>Error 404 - Page not found.</h1>-->
</script>
<script type="text/html" id="undefined-tpl">
    <!--<h1>Template not found.</h1>-->
</script>
</body>
</html>
